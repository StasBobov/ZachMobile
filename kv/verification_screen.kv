#:import my_base my_base
#:import constants constants

<VerificationScreen>:
    canvas:
        Color:
            rgb: utils.get_color_from_hex("#3983F2")
        Rectangle:
            size: self.size
            pos: self.pos
    FloatLayout:
        Label:
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: 'To complete your registration, please follow the link that was sent to your email.'
            size_hint: .3, .1
            pos_hint: {'top': .5, 'right': .5}
        LabelButton:
            canvas.before:
                Color:
                    rgb: utils.get_color_from_hex("#3983F2") if self.state == 'normal' else utils.get_color_from_hex("#3244AA")
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: 'Back to the Login screen'
            markup: True
            size_hint: .3, .1
            pos_hint: {'top': .2, 'left': 1}
            on_release:
                app.change_screen('login_screen')
        LabelButton:
            canvas.before:
                Color:
                    rgb: utils.get_color_from_hex("#3983F2") if self.state == 'normal' else utils.get_color_from_hex("#3244AA")
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: 'Enter'
            markup: True
            size_hint: .3, .1
            pos_hint: {'top': .2, 'right': .7}
            on_release:
                app.verification_restart_app()
        LabelButton:
            canvas.before:
                Color:
                    rgb: utils.get_color_from_hex("#3983F2") if self.state == 'normal' else utils.get_color_from_hex("#3244AA")
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: 'I did not get the mail!'
            markup: True
            size_hint: .3, .1
            pos_hint: {'top': .2, 'right': 1}
            on_release:
                my_base.exchange_refresh_token()
                my_base.verification_request(constants.ID_TOKEN)

